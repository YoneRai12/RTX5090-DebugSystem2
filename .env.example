# ==========================================
# RTX5090-DebugSystem Configuration Template
# ==========================================
# このファイルをコピーして `.env` にリネームして使ってください。
# ※ Windowsのエクスプローラーで .env が作れない場合は、コマンドプロンプトで `copy .env.example .env` と打ってください。

# --- 必須設定 (Basic) ---

# 1. 修正を許可するファイル（セミコロン区切り）
# これ以外のファイルはAIが触れないので安全です。
PHOENIX_ALLOWLIST=train.py;models/*.py;utils.py

# 2. 実行する学習コマンド
# フルパス推奨。仮想環境の python を使う場合はそのパスを指定。
PHOENIX_TRAIN_CMD=python train.py --batch_size 32

# 3. メインで使用するLLM
# gemini_cli (無料/要ログイン) または gemini_api (要APIキー)
PHOENIX_PRIMARY=gemini_api

# 4. Gemini APIキー (PHOENIX_PRIMARY=gemini_api の場合)
GEMINI_API_KEY=your_api_key_here


# --- 安全機能 (Safety) ---

# ドライランモード (1=有効, 0=無効)
# 1にすると、ファイル書き換えを行わず、バックアップ作成とログ出力のみ行います。
PHOENIX_DRY_RUN=0

# 最大修正試行回数 (同じエラーに対して何回まで粘るか)
PHOENIX_MAX_RETRIES_PER_SIGNATURE=3


# --- 便利機能 (Advanced) ---

# Discord 通知 (Webhook URL)
# 設定するとスマホに通知が飛びます。
PHOENIX_DISCORD_WEBHOOK_URL=

# Discord Bot設定 (オプション)
# !stop, !resume, !status などのコマンドを使う場合に必要です。
# Bot TokenとChannel IDを設定してください。
PHOENIX_DISCORD_BOT_TOKEN=
PHOENIX_DISCORD_CHANNEL_ID=

# Git 自動コミット (1=有効, 0=無効)
# 修正成功時に自動で git commit します。
PHOENIX_GIT_COMMIT=0


# --- フォールバック機能 (Fallback) ---
# 外部APIが落ちた時に使うローカルLLMの設定

# モード: cli (コマンド実行) または api (LM Studio等)
PHOENIX_FALLBACK_LLM_TYPE=api

# [APIモードの場合]
# LM Studio / vLLM / llama.cpp server のURL
PHOENIX_FALLBACK_LLM_URL=http://localhost:1234/v1/chat/completions
PHOENIX_FALLBACK_LLM_MODEL=local-model

# [CLIモードの場合]
# 実行するコマンド (最後にプロンプトが引数として渡されます)
# PHOENIX_FALLBACK_LLM_CMD=python local_llm.py
